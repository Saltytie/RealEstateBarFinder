# Описание

Создание и дальнейшее развитие сети баров в городах миллионниках

## Запрос заказчика

Создание и дальнейшее развитие сети баров в городах миллионниках.
Запрос заказчика: клиент хочет открыть первую точку сети баров в Москве или Санкт-Петербурге с минимальными затратами. Также он хочет получить рекомендации по дальнейшему развитию сети в случае успеха первого заведения. При этом у него нет понимания о том, какое местоположении баров, масштаб и формат будут наиболее удачны. 

## Цель пректа

Разработать комплексное бизнес-обоснование и дорожную карту для запуска и масштабирования сети баров в городах-миллионниках.

## Описание данных

Изначально с помощью библиотеки Selenium были извлечены данные об аренде коммерческих помещений по 7 городам-миллионникам (Москва, Санкт-Петербург, Новосибирск, Екатеринбург,  Красноярск, Нижний Новгород, Челябинск)  с сайта N1 и сформированы в датасет df_rent.  

Датасет rent содержит данные об объявлениях об аренде помещений в 7 городах-миллионниках России.

Признаки:
rent, rub/month - арендная плата в рублях в месяц
address - физический адрес помещения (улица)
city - город, где находится помещение
price per sqm, rub/month - цена за квадратный метр в месяц
square, m^2 - площадь помещения в квадратных метрах
type - тип помещения
url - ссылка на страницу, на котором находится объявление
OSM_address - полный физический адрес помещения с указанием города и страны
district - название района города, где находится помещение

Пропуски в данном датасете присутствуют только в столбце district. В остальных признаках не содержится пропусков.

В признаках не содержится пропусков. В районах есть значение "Адрес не найден". Заменим на nan и удалим, потому что мы не можем провести анализ этих помещений

Строки с пропущенными адресами были удалены, т.к. адрес является важным признаком, а также процент пропусков достаточно мал и не приводит к большим потерям данных.
Аномалий в датасете не обнаружено.
Клиент открывает первый бизнес и не готов вкладывать огромные сбережения, поэтому выбросы (т.е. огромные цены) были удалены с помощью самого популярного способа удаления:

- Ниже первой квартили - 3 iqr (межквартильное расстояние)
- Выше третьей квартили + 3 iqr (межквартильное расстояние)

Аналогично для первого бизнеса тяжело обустраивать и содержать огромные помещения (идут расходы на мебель, коммунальные услуги, обеспечение, ремонт и т. п.), поэтому выбросы с большими площадями были удалены аналогично, но константа заменена на 5.
Далее с использованием API ключей были извлечены данные с сайта 2ГИС и был создан датасет df_bars.  

Датасет bars содержит данные о барах в 7 городах-миллионниках

Описание признаков:
 address_name  - адрес бара (улица, дом, строение)
 full_name - полное официальное юридическое название с указанием адреса
 id - уникальный код бара на 2ГИС
 name - название бара
 purpose_name - целевой бизнес заведения (например, ресторан)
 rubrics - категории заведения
 type - тип точки сети (branch-филиал)
 address.building_id - айди здания на 2ГИС
 address.components - "разобранный" адрес (номер дома, улица и т. д.)
 address.postcode - почтовый индекс
 point.lat - широта
 point.lon - долгота
 building_name - название здания-бара, если здание полностью является заведением
 city - город, в котором находится бар
 address.landmark_name - ориентир (жк, парк, рынок и т. п.)
 address_comment - комментарий к адресу (этаж, дополнительные ориентиры)
 address.building_name - название здания (тц, трк, жк и т. п.)
Разновидности отзывов:
reviews.general_rating - средний рейтинг заведения (максимум 5.0)
 reviews.general_review_count - общее количество текстовых отзывов
 reviews.general_review_count_with_stars - общее количество отзывов с выставленными оценками
 reviews.is_reviewable - можно ли оставить отзыв
 reviews.is_reviewable_on_flamp - можно ли оставить отзыв на flamp - помощник 2ГИС
 reviews.items - общая сводка данных об отзывах
 reviews.org_rating - средний рейтинг организации - всей сети (максимум 5.0)
 reviews.org_review_count - общее количество текстовых отзывов у организации - всей сети
 reviews.org_review_count_with_stars - общее количество отзывов с выставленными оценками организации - всей сети
 reviews.rating - средний рейтинг, собранных за последние n дней (как правило, n равно 1) для обновления рейтинга
 reviews.review_count - количество, собранных за последние n дней (как правило, n равно 1) для обновления количества оценок
 reviews.recommendation_count - количество рекомендаций организации


В этом датасете гораздо больше пропусков, по сравнению с первым, они есть почти в каждом столбце


## Работа с данными

Большинство столбцов с большим количеством пропуском либо являются дополнительной информацией, которая может иметься не у всех заведений, либо это полная юридическая информация, которую редко прописывают на поисковых картах.
Если у признака больше 50% пропусков, то удаляем его, он не так информативен и ничем нам не поможет. Удалим эти столбцы

Удаляем строчки с пустыми значениями в колонке `address_name`. Нам важны адреса для дальнейшего анализа, потому что мы хотим выявить районы и сориентировать клиента по выгодному и хорошему месту открытия бара.

full_name, purpose_name, address.landmark_name, address.building_name, reviews.rating, reviews.review_count, reviews.recommendation_count, building_name имеют более 50% пропусков, поэтому они не информативны и удаляются из датасета.

Колонки reviews.is_reviewable, reviews.is_reviewable_on_flamp, reviews.items, reviews.org_review_count, reviews.org_review_count_with_stars были удалены, т.к.  значение этих столбцов не дает информации для анализа территории и района.
Столбец address_comment имеет много пропусков и дополняет информацию о местоположении бара. Например, этаж, местоположение входа и т. п. Эта информация не является необходимой в анализе, поэтому удаляется.
Итого после очистки остались 2515 записей и 11 колонок, у 4 из которых тип object (address_name, name, rubrics, city),а у оставшихся 7 float (address.postcode, point.lat, point.lon, reviews.general_rating, reviews.general_review_count, reviews.general_review_count_with_stars, reviews.org_rating).


## Анализ категорий

По каждому городу мы разбили аренду в месяц на группы по категориям площади, а затем по типу помещения: помещение под бар/ресторан, торговая площадь, универсальное помещение. По каждой такой группе посчитали среднюю стоимость аренды и провели первичный анализ категорий площадей по типам помещения.
Москва
Ближе всего к средней стоимости по городу категория средней площади. Дешевле всего универсальные помещения, потом уже идет помещение под бар/ресторан. Категория большой площади тоже является более выгодной по универсальным помещениям, а помещения для баров/ресторанов самые дорогие. По категории крупной площади также, самое дешевое - универсальные помещения, а самое дорогое - помещения для баров/ресторанов.
В Москве лучше открыть бар не в помещение под бар/ресторан, стоит уделить внимание универсальным категориям. Крупные площади вообще не стоит рассматривать, потому что они довольно таки дорогие, а также для первого бара крупный бар открывать довольно таки опасно.

Санкт-Петербург
Ниже среднего значения по городу помещения под бар/ресторан и универсальные в категории средняя площадь, а торговая площадь чуть выше среднего по городу. Средние в категории большая площадь не сильно отличаются друг от друга, но самая выгодная - это универсальные помещения. Значения категории крупной площади отличаются от значений большой площади раза в 2, что означает, что лучше открыть бар средней или большой площади, что также лучше для первого бизнеса.
Категорию крупной площади не стоит рассматривать, потому что она дорогая и для первого бизнеса не выгодна.

Новосибирск
Значения в категории средней площади опять же ниже среднего и примерно одинаковые принимают значения. Довольно таки сильная разница в категории большой площади, самое выгодное это универсальные помещения. Стоимость помещений под бары/рестораны больше других типов. Также и в категории крупной площади средняя стоимость у помещений под бары/рестораны сильно больше, чем средняя стоимость универсальных помещений.
В этом городе можно уделить внимание категории средней площади, особенно помещениям под бар/ресторан и универсальные площади, а также универсальным помещениям большой площади.

Челябинск
Категория средней и большой площади ниже среднего по городу.
Средняя стоимость аренды больших и средних помещений меньше средней стоимости по всему городу, что делает их более выгодными в городе. Крупная площадь больше средней стоимости по городу. В этой группе не стоит рассматривать торговые площади, потому что их стоимость от средней по городу отличается во много раз по сравнению с помещениями под бар/ресторан и универсальные помещения. 
В этом городе можно рассмотреть средние  площади всех видов, категории большой площади- помещение под бар/ресторан и универсальные помещения

Нижний Новгород
По всем типам помещений в категории средняя и большая площади средняя стоимость ниже средней стоимости по городу. Причем все значения в категории средняя площадь находятся довольно таки рядом. В категории большая площадь тип помещения торговая площадь значительно выше других двух типов, поэтому не стоит рассматривать этот тип помещения. В категории крупной площади самое дорогое это торговые площади, стоимость сильно выше.
В этом городе стоит рассматривать категории большой и средней площадей, но торговые площадь в категории большая площадь не надо рассматривать. Помещения в целом в Нижнем Новгороде дорогие, поэтому крупные площади рассматривать не стоит.

Красноярск
Значения категорий средней и большой площадей ниже среднего по городу. Сильно ниже в средней площади - торговая площадь, а другие два виды отличаются на немного.Значения в категории большая площадь примерно все одинаковые. В крупной площади намного ниже значение помещений под бар/ресторан.
Больше всего средняя стоимость конечно же отличается от средней по городу у средней площади. В категории средняя площадь можно сделать акцент на торговой площади. В категории большой - на универсальных помещениях. В категории крупной - помещение под бары/рестораны. 

Екатеринбург
Ниже среднего значения по городу все типы помещений в средней площади, при этом значения не сильно отличаются друг от друга. В категории большой площади намного лучше универсальные помещения, а торговые помещения и помещения под бар/ресторан не сильно отличаются друг от друга. Значения категории крупной площади намного больше, чем в категории большой площади.
В этом городе лучше всего искать аренду по универсальным помещения средней и большой площади, также можно посмотреть и другие помещения этих площадей.

Во всех городах категория очень крупная площадь совсем дорогая и невыгодная по сравнению с другими категориями, поэтому ее рассматривать не надо, для первого бизнеса это не практично и не окупаемо будет.

## Подробнее рассматриваем Москву и Санкт-Петерберг

Далее мы рассматриваем районы по Питеру и Москве по средним оценкам и выделяем самые перспективные районы. 
Питер: Балканский округ, округ Гавань
Москва: район Лефортово, район Богородское, район Филёвский Парк, Басманный район.
Исходя из выделенных районов и помещений, выбираем подходящие помещения для ближайшего открытия баров в Москве и Питере, а для дальнейшего развития в других городах миллионниках предлагаем типы помещений

## Бизнес-выводы:

В Москве и Питере стоит арендовать помещение средней или большой площади типа универсальное помещение
В будущем для масштабирования бизнеса в городах миллионниках также стоит рассмотреть средние и большие площади, если не произойдет сильных изменений в цене.
Приоритетные площадки по городам-миллионикам:
новосибирск 
-помещения под бар/ресторан и универсальные (средняя площадь)
-универсальные (большая)
челябинск
-средняя площадь все виды
- помещение под бар/ресторан и универсальные (большая)
нижний
-все виды средней площади 
- помещение под бар/ресторан и универсальные (большая)
красноярск 
- все в средней и большой площади 
-помещение под бары (крупная)
екатеринбург 
-универсальные, другие в целом тоже норм (средняя)
-универсальные и тут другие в целом норм (большая)
